<!--
  This template loads for the 'tab.friend-detail' state (app.js)
  'friend' is a $scope variable created in the FriendsCtrl controller (controllers.js)
  The FriendsCtrl pulls data from the Friends service (service.js)
  The Friends service returns an array of friend data
-->
<ion-view view-title="Deals">
    <ion-content class="padding">
        <div class="list" ng-repeat="item in resultValue=(deals)" >
            <a class="item item-icon-left" href="#" on-hold="detail({{$index}})">
                <i ng-if="item.rank>50&&item.rank<=100" class="icon ion-ios-star"></i>
                <i ng-if="item.rank>0&&item.rank<=50" class="icon ion-ios-star-half"></i>
                <i ng-if="item.rank<50" class="icon ion-ios-star-outline"></i>
                {{item.content}}
                <span ng-if="item.balance>0" class="badge badge-positive">${{item.balance}}</span>
                <span ng-if="item.balance<=0" class="badge badge-assertive">${{item.balance}}</span>
            </a>
        </div>
        <div class="item item-divider">
            Total saving:
            <span ng-if="(resultValue | sumOfValue:'balance')>0" class="badge badge-balanced">${{resultValue | sumOfValue:'balance'}}</span>
            <span ng-if="(resultValue | sumOfValue:'balance')<=0" class="badge badge-assertive">${{resultValue | sumOfValue:'balance'}}</span>
        </div>
    </ion-content>
</ion-view>
